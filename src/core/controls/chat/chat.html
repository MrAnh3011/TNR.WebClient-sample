<div class="chat-inner-container">
    <mat-toolbar>
        <div class="toolbar" fxLayout="row" fxLayoutAlign="start center" fxFlexFill>
            <!-- <img class="avatar pointer" *ngIf="activeChat" [src]="activeChat.picture"> -->
            <div class="activeChat">
                <h3 class="mat-body-2">{{ field.FldLabel }}</h3>
            </div>
        </div>
    </mat-toolbar>

    <div class="chat-content" fxLayout="column" fxLayoutAlign="end stretch">
        <perfect-scrollbar>
            <div class="messages-container">
                <div class="chat-message" *ngFor="let message of messages" [ngSwitch]="message.who" fxLayout="column"
                    fxLayoutAlign="end start">
                    <div class="partner" *ngSwitchCase="'partner'" fxFlexAlign="start" fxLayout="row"
                        fxLayoutAlign="start start">
                        <img class="avatar" [src]="avatar">
                        <span class="message mat-elevation-z1">{{ message.message }}</span>
                    </div>
                    <div class="me" *ngSwitchCase="'me'" fxFlexAlign="end" fxLayout="row" fxLayoutAlign="end start">
                        <span class="message mat-elevation-z1">{{ message.message }}</span>
                        <img class="avatar" [src]="avatar">
                    </div>
                </div>
            </div>
        </perfect-scrollbar>
    </div>
    <div class="chat-respond" fxLayout="row" fxLayoutAlign="start center">
        <div fxFlex>
            <textarea matInput (keyup.enter)="onSendTriggered()" [(ngModel)]="newMessage"
                placeholder="Enter the message you want to send"></textarea>
        </div>
        <button type="button" (click)="onSendTriggered()" mat-mini-fab color="primary">
            <mat-icon>send</mat-icon>
        </button>
    </div>
</div>